<!DOCTYPE html>
<html lang="en">
<head>
		<meta charset="UTF-8">
		<title>Gausian distribution</title>

		<style>
		canvas {
			background-color: rgb(210,210,210);
		}
		</style>
</head>
<body>
</body>

		<script src="random-0.26.js"></script>

		<script>
		var Frames = ( function () {
			var context = null;

			var running = false;
			var setupCallback = null;
			var drawCallback = null;

			var mouseX = 0 ;
			var mouseY = 0;
			var mousePressed = false;


			//
			// event handlers
			//
			function setMouseXY ( event ) {
					mouseX = event.pageX;
					mouseY = event.pageY;
			}

			function setMousePressedTrue ( event ) {
					mousePressed = true;
			}

			function setMousePressedFalse ( event ) {
					mousePressed = false;
			}


			//
			// canvas functions
			//
			function setupCanvas(width, height) {
					var canvas = document.createElement( 'canvas' );

					context = canvas.getContext( '2d' );

					canvas.width = width || window.innerWidth;
					canvas.height = height || window.innerHeight;
					document.body.appendChild( canvas );

					canvas.addEventListener( 'mouseenter', setMouseXY );
					canvas.addEventListener( 'mousemove', setMouseXY );
					canvas.addEventListener( 'mousedown', setMousePressedTrue );
					canvas.addEventListener( 'mouseup', setMousePressedFalse );

					return context;
			}


			function clearCanvas () {
					context.clearRect( 0, 0, context.canvas.width, context.canvas.height );
			}


			//
			// animation functions
			//
			function setup ( cb ) {
				setupCallback = cb;

				try {
					setupCallback();
					isSetUp = true;
				} catch ( err ) {
					console.error( 'Failed to setup drawing context' );
					console.error( err );
				}
			}


			function drawLoop () {
				if( running ) {
					drawCallback();
					requestAnimationFrame( drawLoop );
				}
			}


			function go ( setupCB, drawCB ) {
				setup( setupCB );

				drawCallback = drawCB;
				running = true;

				requestAnimationFrame( drawLoop );
			}


			function stop () {
				running = false;
			}




			//
			// Public API
			//
			return {
					setupCanvas: setupCanvas,
					clearCanvas: clearCanvas,
					mouseX: function getMouseX () { return mouseX || 0; },
					mouseY: function getMouseY () { return mouseY || 0; },
					mousePressed: function getMousePressed () { return mousePressed; },
					go: go,
					stop: stop
			};
		})();

		(function( Frames, Random ){
				var canvasWidth = 640;
				var canvasHeight = 360;
				var context;

				function setup () {
					context = Frames.setupCanvas( canvasWidth, canvasHeight );
				}

				function draw () {
					var x = parseInt( Random.normal( canvasWidth / 2, 60 ), 10 );
					var y = parseInt( Random.normal( canvasHeight / 2, 60 ), 10 );
					var red = parseInt( Random.normal( 125, 40 ), 10 );
					var green = parseInt( Random.normal( 125, 40 ), 10 );
					var blue = parseInt( Random.normal( 125, 40 ), 10 );

					context.beginPath();
					context.fillStyle = 'rgba('+ red +','+ green +','+ blue +',0.1 )';
					context.arc( x, y, 8, 0, 2 * Math.PI );
					context.fill();
				}

				Frames.go( setup, draw );

		})( Frames, new Random() );
		</script>
</html>