<!DOCTYPE html>
<html lang="en">
<head>
		<meta charset="UTF-8">
		<title>Gausian distribution</title>

		<style>
		canvas {
			background-color: rgb(210,210,210);
		}
		</style>
</head>
<body>
</body>

		<script src="random-0.26.js"></script>

		<script>
		var Frames = ( function () {
			var context = null;

			var running = false;
			var setupCallback = null;
			var drawCallback = null;

			var mouseX = 0 ;
			var mouseY = 0;
			var mousePressed = false;


			//
			// event handlers
			//
			function setMouseXY ( event ) {
					mouseX = event.pageX;
					mouseY = event.pageY;
			}

			function setMousePressedTrue ( event ) {
					mousePressed = true;
			}

			function setMousePressedFalse ( event ) {
					mousePressed = false;
			}


			//
			// canvas functions
			//
			function setupCanvas(width, height) {
					var canvas = document.createElement( 'canvas' );

					context = canvas.getContext( '2d' );

					canvas.width = width || window.innerWidth;
					canvas.height = height || window.innerHeight;
					document.body.appendChild( canvas );

					canvas.addEventListener( 'mouseenter', setMouseXY );
					canvas.addEventListener( 'mousemove', setMouseXY );
					canvas.addEventListener( 'mousedown', setMousePressedTrue );
					canvas.addEventListener( 'mouseup', setMousePressedFalse );

					return context;
			}


			function clearCanvas () {
					context.clearRect( 0, 0, context.canvas.width, context.canvas.height );
			}


			//
			// animation functions
			//
			function setup ( cb ) {
				setupCallback = cb;

				try {
					setupCallback();
					isSetUp = true;
				} catch ( err ) {
					console.error( 'Failed to setup drawing context' );
					console.error( err );
				}
			}


			function drawLoop () {
				if( running ) {
					drawCallback();
					requestAnimationFrame( drawLoop );
				}
			}


			function go ( setupCB, drawCB ) {
				setup( setupCB );

				drawCallback = drawCB;
				running = true;

				requestAnimationFrame( drawLoop );
			}


			function stop () {
				running = false;
			}




			//
			// Public API
			//
			return {
					setupCanvas: setupCanvas,
					clearCanvas: clearCanvas,
					mouseX: function getMouseX () { return mouseX || 0; },
					mouseY: function getMouseY () { return mouseY || 0; },
					mousePressed: function getMousePressed () { return mousePressed; },
					go: go,
					stop: stop
			};
		})();

		(function( Frames, Random ){
				var context;

				function makeCircleOfRadius ( rad ) {
					return function circle ( x, y ) {
						context.beginPath();
						context.arc( x, y, rad, 0, 2 * Math.PI );
						context.fill();
					}
				}

				var drawDisc = makeCircleOfRadius( 16 );

				function setup () {
					context = Frames.setupCanvas( 640, 360 );
					context.fillStyle = 'rgba(255,255,255,0.1)';
				}

				function draw () {
					// The normal generator from Random.js requires a mean and SD be passed in
					//  meaning the variables for these needed by Java/Processing's version
					//  are not needed here
					var randomGaussian = Random.normal( 320, 60 );

					drawDisc( randomGaussian, 180 );
				}

				Frames.go( setup, draw );
				setTimeout( Frames.stop, 1000 );

		})( Frames, new Random() );
		</script>
</html>