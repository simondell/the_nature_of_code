<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>A random walker and walker class</title>

	<style>
	canvas {
		border: 1px solid grey;
	}
	</style>
</head>
<body>
</body>

	<script src="random-0.26.js"></script>
	<script src="frames.js"></script>


	<script>
    (function( Frames, Random ){
        var canvasWidth = 640;
        var canvasHeight = 360;
        var context = null;

        // A Walker "class"
        function Walker(context, x, y) {
            this.context = context;
            this.x = x;
            this.y = y;
            this.stepSize = 0;
        }

        Walker.prototype.step = function () {
            var sigma = 3;
            var mu = 10;

            this.stepSize = Random.normal( mu, sigma );

            return this;
        }

        Walker.prototype.display = function () {
            var choice = parseInt( Math.random() * 4, 10  );
            var new_x, new_y;

            switch( choice ) {
            case 0:
                new_x = this.x + this.stepSize;
                new_y = this.y;
                break;
            case 1:
                new_x = this.x - this.stepSize;
                new_y = this.y;
                break;
            case 2:
                new_x = this.x;
                new_y = this.y + this.stepSize;
                break;
            case 3:
                new_x = this.x;
                new_y = this.y - this.stepSize;
                break;
            }

            this.context.lineWidth = 1;
            this.context.strokeStyle = 'rgb(0,0,0)';
            this.context.lineTo( new_x, new_y );
            this.context.stroke();

            this.x = new_x;
            this.y = new_y;

            return this;
        }

        function setup () {
            context = Frames.setupCanvas( canvasWidth, canvasHeight );
            walker = new Walker( context, context.canvas.width / 2, context.canvas.height / 2 );
        }

        function draw () {
            walker.step().display();
        }

        Frames.go( setup, draw );

    })( Frames, new Random() );
	</script>
</html>