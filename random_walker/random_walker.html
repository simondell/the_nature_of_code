<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>A random walker and walker class</title>

	<style>
	canvas {
		border: 1px solid grey;
	}
	</style>
</head>
<body>
</body>

	<script>
	(function(){
		var context, walker;

		// A Walker "class"
		function Walker(context, x, y) {
			this.context = context;
			this.x = x || context.canvas.width / 2 || 0;
			this.y = y || context.canvas.height / 2 || 0;
		}

		Walker.prototype.step = function () {
			var choice = parseInt( Math.random() * 4, 10 );

			switch( choice ) {
				case 0: this.x += 1; break;
				case 1: this.x -= 1; break;
				case 2: this.y += 1; break;
				case 3: this.y -= 1; break;
			}

			return this;
		}

		Walker.prototype.display = function () {
			this.context.fillStyle = 'rgb(0,0,0);';
			this.context.fillRect( this.x, this.y, 1, 1 );

			return this;
		}


		function setupCanvas(width, height) {
			var canvas = document.createElement( 'canvas' );
			var c = canvas.getContext( '2d' );

			canvas.width = width || window.innerWidth;
			canvas.height = width || window.innerHeight;
			document.body.appendChild( canvas );

			return c;
		}

		function setup () {
			context = setupCanvas(100,100);
			walker = new Walker( context );
		}

		function draw () {
			walker.step().display();
		}

		// setup and draw loop
		setup();
		requestAnimationFrame( function drawLoop () {
			draw();
			requestAnimationFrame( drawLoop );
		});

	})();
	</script>
</html>